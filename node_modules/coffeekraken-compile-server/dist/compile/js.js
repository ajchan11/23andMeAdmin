'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = js;

var _SAjax = require('coffeekraken-sugar/js/classes/SAjax');

var _SAjax2 = _interopRequireDefault(_SAjax);

var _settings = require('../settings');

var _settings2 = _interopRequireDefault(_settings);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function js(code, language, options = {}) {

	return new Promise((resolve, reject) => {
		const ajx = new _SAjax2.default({
			url: `${_settings2.default.apiUrl}/compile/${language}?${_settings2.default.queryString}`,
			method: 'POST',
			data: JSON.stringify({
				data: code,
				options: options
			}),
			contentType: 'application/json'
		});
		resolve(ajx.send());
	});
}